{"remainingRequest":"/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/node_modules/babel-loader/lib/index.js!/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/node_modules/ts-loader/index.js??ref--13-2!/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/src/views/Profile.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/src/views/Profile.vue","mtime":1602810729690},{"path":"/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3JvdGhhc2FyL0RvY3VtZW50cy93b3Jrc3BhY2UvaGFtbGluc3RyZWV0aG9ycm9yL2hhbWxpbmhvcnJvcnN0cmVldC1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL3JvdGhhc2FyL0RvY3VtZW50cy93b3Jrc3BhY2UvaGFtbGluc3RyZWV0aG9ycm9yL2hhbWxpbmhvcnJvcnN0cmVldC1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9yb3RoYXNhci9Eb2N1bWVudHMvd29ya3NwYWNlL2hhbWxpbnN0cmVldGhvcnJvci9oYW1saW5ob3Jyb3JzdHJlZXQtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvcm90aGFzYXIvRG9jdW1lbnRzL3dvcmtzcGFjZS9oYW1saW5zdHJlZXRob3Jyb3IvaGFtbGluaG9ycm9yc3RyZWV0LWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3JvdGhhc2FyL0RvY3VtZW50cy93b3Jrc3BhY2UvaGFtbGluc3RyZWV0aG9ycm9yL2hhbWxpbmhvcnJvcnN0cmVldC1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9yb3RoYXNhci9Eb2N1bWVudHMvd29ya3NwYWNlL2hhbWxpbnN0cmVldGhvcnJvci9oYW1saW5ob3Jyb3JzdHJlZXQtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKCnZhciBQcm9maWxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKFByb2ZpbGUsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFByb2ZpbGUpOwoKICBmdW5jdGlvbiBQcm9maWxlKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm9maWxlKTsKCiAgICAvLyBwdWJsaWMgJHJlZnMhOiB7IGZpbGVzJzogSFRNTEVsZW1lbnQgfQogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLmZpbGVzID0gW107CiAgICBfdGhpcy51cGxvYWRGaWxlcyA9IFtdOwogICAgX3RoaXMubWVzc2FnZSA9ICcnOyAvLyBvbkZpbGVDaGFuZ2UoZSkgewogICAgLy8gICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAvLyAgIHRoaXMudXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTsKICAgIC8vICAgY29uc29sZS5sb2coeyAxOiBlLnRhcmdldC5maWxlc1swXSwgMjogdGhpcy51cmwgfSwgJ2UnKTsKICAgIC8vIH0KICAgIC8vIHByaXZhdGUgZm9ybWF0TmFtZXMoZmlsZXMpOiB2b2lkIHsKICAgIC8vICAgcmV0dXJuIGZpbGVzLmxlbmd0aCA9PT0gMSA/IGZpbGVzWzBdLm5hbWUgOiBgJHtmaWxlcy5sZW5ndGh9IGZpbGVzIHNlbGVjdGVkYAogICAgLy8gfQoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhQcm9maWxlLCBbewogICAga2V5OiAic2VsZWN0RmlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0RmlsZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmUKICAgICAgdmFyIGZpbGVzID0gdGhpcy4kcmVmcy5maWxlcy5maWxlczsKICAgICAgdGhpcy51cGxvYWRGaWxlcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5maWxlcyksIF90b0NvbnN1bWFibGVBcnJheShmaWxlcykpOwogICAgICB0aGlzLmZpbGVzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmZpbGVzKSwgX3RvQ29uc3VtYWJsZUFycmF5KF8ubWFwKGZpbGVzLCBmdW5jdGlvbiAoZmlsZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsCiAgICAgICAgICBzaXplOiBmaWxlLnNpemUsCiAgICAgICAgICB0eXBlOiBmaWxlLnR5cGUsCiAgICAgICAgICBpbnZhbGlkTWVzc2FnZTogX3RoaXMyLnZhbGlkYXRlKGZpbGUpCiAgICAgICAgfTsKICAgICAgfSkpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWxpZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoZmlsZSkgewogICAgICB2YXIgTUFYX1NJWkUgPSAyMDAwMDAwMDsKICAgICAgdmFyIGFsbG93ZWRUeXBlcyA9IFsnaW1hZ2UvanBlZycsICdpbWFnZS9wbmcnLCAnaW1hZ2UvZ2lmJ107CgogICAgICBpZiAoZmlsZS5zaXplID4gTUFYX1NJWkUpIHsKICAgICAgICByZXR1cm4gIm1heCBzaXplOiAiLmNvbmNhdChNQVhfU0laRSAvIDEwMCwgImtiIik7CiAgICAgIH0KCiAgICAgIGlmICghYWxsb3dlZFR5cGVzLmluY2x1ZGVzKGZpbGUudHlwZSkpIHsKICAgICAgICByZXR1cm4gJ1BsZWFzZSB1c2Ugb25seSAuanBnLCAucG5nIG9yIC5naWYgZmlsZSB0eXBlcyc7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZW5kRmlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NlbmRGaWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgICB2YXIgZm9ybURhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKCiAgICAgICAgICAgICAgICBfLmZvckVhY2godGhpcy51cGxvYWRGaWxlcywgZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMy52YWxpZGF0ZShmaWxlKSA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGVzJywgZmlsZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmUKCgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndXBsb2FkJywgZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnRmlsZXMgdXBsb2FkZWQnOwogICAgICAgICAgICAgICAgdGhpcy5maWxlcyA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy51cGxvYWRGaWxlcyA9IFtdOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDAsICdlcnInKTsKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICdFcnJvcic7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzIsIDEwXV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzZW5kRmlsZSgpIHsKICAgICAgICByZXR1cm4gX3NlbmRGaWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzZW5kRmlsZTsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIFByb2ZpbGU7Cn0oVnVlKTsKClByb2ZpbGUgPSBfX2RlY29yYXRlKFtDb21wb25lbnRdLCBQcm9maWxlKTsKZXhwb3J0IGRlZmF1bHQgUHJvZmlsZTs="},{"version":3,"sources":["/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rothasar/Documents/workspace/hamlinstreethorror/hamlinhorrorstreet-frontend/src/views/Profile.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;;;;;;AAqDA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AACA,OAAO,CAAP,MAAc,QAAd;;AAGA,IAAqB,OAArB;AAAA;;AAAA;;AAAA,qBAAA;AAAA;;AAAA;;AACE;;AAEQ,UAAA,KAAA,GAAQ,EAAR;AAEA,UAAA,WAAA,GAAc,EAAd;AAEA,UAAA,OAAA,GAAU,EAAV,CAPV,CA2DE;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAnEF;AAoEC;;AApED;AAAA;AAAA,iCASY;AAAA;;AACR;AACA,UAAM,KAAK,GAAG,KAAK,KAAL,CAAW,KAAX,CAAiB,KAA/B;AACA,WAAK,WAAL,gCAAuB,KAAK,KAA5B,sBAAsC,KAAtC;AAEA,WAAK,KAAL,gCACK,KAAK,KADV,sBAEK,CAAC,CAAC,GAAF,CAAM,KAAN,EAAa,UAAA,IAAI;AAAA,eAAK;AACvB,UAAA,IAAI,EAAE,IAAI,CAAC,IADY;AAEvB,UAAA,IAAI,EAAE,IAAI,CAAC,IAFY;AAGvB,UAAA,IAAI,EAAE,IAAI,CAAC,IAHY;AAIvB,UAAA,cAAc,EAAE,MAAI,CAAC,QAAL,CAAc,IAAd;AAJO,SAAL;AAAA,OAAjB,CAFL;AASD;AAvBH;AAAA;AAAA,6BAyBW,IAzBX,EAyBe;AACX,UAAM,QAAQ,GAAG,QAAjB;AACA,UAAM,YAAY,GAAG,CAAC,YAAD,EAAe,WAAf,EAA4B,WAA5B,CAArB;;AAEA,UAAI,IAAI,CAAC,IAAL,GAAY,QAAhB,EAA0B;AACxB,mCAAmB,QAAQ,GAAC,GAA5B;AACD;;AAED,UAAI,CAAC,YAAY,CAAC,QAAb,CAAsB,IAAI,CAAC,IAA3B,CAAL,EAAuC;AACrC,eAAO,+CAAP;AACD;;AACD,aAAO,EAAP;AACD;AArCH;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAwCU,gBAAA,QAxCV,GAwCqB,IAAI,QAAJ,EAxCrB;;AA0CI,gBAAA,CAAC,CAAC,OAAF,CAAU,KAAK,WAAf,EAA4B,UAAA,IAAI,EAAG;AACjC,sBAAI,MAAI,CAAC,QAAL,CAAc,IAAd,MAAwB,EAA5B,EAAgC;AAC9B,oBAAA,QAAQ,CAAC,MAAT,CAAgB,OAAhB,EAAyB,IAAzB;AACD;AACF,iBAJD,EA1CJ,CA+CI;;;AA/CJ;AAAA;AAAA,uBAiDY,KAAK,MAAL,CAAY,QAAZ,CAAqB,QAArB,EAA+B,QAA/B,CAjDZ;;AAAA;AAkDM,qBAAK,OAAL,GAAe,gBAAf;AACA,qBAAK,KAAL,GAAa,EAAb;AACA,qBAAK,WAAL,GAAmB,EAAnB;AApDN;AAAA;;AAAA;AAAA;AAAA;AAsDM,gBAAA,OAAO,CAAC,GAAR,cAAiB,KAAjB;AACA,qBAAK,OAAL,GAAe,OAAf;;AAvDN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,EAAqC,GAArC,CAAA;;AAAqB,OAAO,GAAA,UAAA,CAAA,CAD3B,SAC2B,CAAA,EAAP,OAAO,CAAP;eAAA,O","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport _ from 'lodash';\n\n@Component\nexport default class Profile extends Vue {\n  // public $refs!: { files': HTMLElement }\n\n  private files = [];\n\n  private uploadFiles = [];\n\n  private message = '';\n\n  selectFile() {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    const files = this.$refs.files.files;\n    this.uploadFiles = [...this.files, ...files];\n\n    this.files = [\n      ...this.files,\n      ..._.map(files, file => ({\n        name: file.name,\n        size: file.size,\n        type: file.type,\n        invalidMessage: this.validate(file),\n      }))\n    ]\n  }\n\n  validate(file) {\n    const MAX_SIZE = 20000000;\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];\n\n    if (file.size > MAX_SIZE) {\n      return`max size: ${MAX_SIZE/100}kb`;\n    }\n\n    if (!allowedTypes.includes(file.type)) {\n      return 'Please use only .jpg, .png or .gif file types';\n    }\n    return \"\";\n  }\n\n  async sendFile() {\n    const formData = new FormData();\n\n    _.forEach(this.uploadFiles, file => {\n      if (this.validate(file) === '') {\n        formData.append('files', file);\n      }\n    });\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    try {\n      await this.$store.dispatch('upload', formData);\n      this.message = 'Files uploaded';\n      this.files = [];\n      this.uploadFiles = [];\n    } catch (err) {\n      console.log(err, 'err');\n      this.message = 'Error';\n    }\n  }\n\n  // onFileChange(e) {\n  //   const file = e.target.files[0];\n  //   this.url = URL.createObjectURL(file);\n  //   console.log({ 1: e.target.files[0], 2: this.url }, 'e');\n  // }\n\n  // private formatNames(files): void {\n  //   return files.length === 1 ? files[0].name : `${files.length} files selected`\n  // }\n}\n"],"sourceRoot":""}]}